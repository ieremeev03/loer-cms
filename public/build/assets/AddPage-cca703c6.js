import{K as r,T as v,o as n,c as d,a as o,u as s,w as i,F as x,Z as k,b as e,d as y,n as V,t as u,e as h,f as w,g as $}from"./app-8cb52190.js";import{_ as c,a as f,b as m}from"./TextInput-10e0fa81.js";import{P as U}from"./PrimaryButton-394ceab5.js";import{_ as B}from"./TextArea-f5de148d.js";import{D as _}from"./vue3-draggable.umd.min-bed83bda.js";import{_ as N}from"./AdminLayout-310942f2.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TextArea.vue_vue_type_style_index_0_lang-072e7a66.js";const S={class:"bg-white md:flex md:flex-row"},C={class:"p-4 mt-6 space-y-6 md:basis-3/4"},D=e("h2",{class:"text-lg font-medium text-black-50"},"Добавление страницы",-1),P={class:"hidden"},T={class:"flex flex-row gap-10"},F={class:"w-1/2"},j=e("div",{class:"font-bold"},"Блоки на странице",-1),z={class:"space-y-6"},A={key:1,class:"p-3 border-2 bg-lime-200 rounded-md mb-2"},E={class:"w-1/2"},K=e("div",{class:"font-bold"},"Список блоков",-1),M={class:"w-full"},Z={class:"w-auto p-1 border-2 bg-gray-50 rounded-md mb-2 text-xs"},q={class:"p-4 md:mt-6 space-y-6 md:basis-1/4"},G=e("h2",{class:"text-lg font-medium text-black-50"},"Свойства",-1),H={class:"flex items-center gap-4"},I={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},es={__name:"AddPage",props:{status:{type:String}},setup(J){r().props.pages;const p=r().props.infoblocks,g=r().props.all_infoblocks,t=v({title:"",content:"",slug:"",parent_id:"",blocks:p,infoblocks:g});return(b,a)=>(n(),d(x,null,[o(s(k),{title:"Добавление страницы"}),o(N,null,{default:i(()=>[e("section",null,[e("form",{onSubmit:a[5]||(a[5]=y(l=>s(t).post(b.route("pages.store")),["prevent"]))},[e("div",S,[e("div",C,[D,e("div",null,[o(c,{for:"title",value:"Заголовок страницы"}),o(f,{id:"title",type:"text",class:"mt-1 block w-full",modelValue:s(t).title,"onUpdate:modelValue":a[0]||(a[0]=l=>s(t).title=l),autofocus:"",autocomplete:"title"},null,8,["modelValue"]),o(m,{class:"mt-2",message:s(t).errors.title},null,8,["message"])]),e("div",P,[o(c,{for:"content",value:"Содержимое страницы",class:"mb-1"}),o(B,{modelValue:s(t).content,"onUpdate:modelValue":a[1]||(a[1]=l=>s(t).content=l),class:"mt-1 block w-full"},null,8,["modelValue"]),o(m,{class:"mt-2",message:s(t).errors.title},null,8,["message"])]),e("div",T,[e("div",F,[j,e("div",z,[o(s(_),{modelValue:s(t).blocks,"onUpdate:modelValue":a[2]||(a[2]=l=>s(t).blocks=l)},{item:i(({item:l})=>[l.id===-1?(n(),d("div",{key:0,class:V([{hidden:s(t).blocks.length>1},"w-full h-32 bg-gray-50 rounded-lg flex flex-col text-xs text-gray-500 items-center justify-center"])}," Перетащите сюда нужный блок ",2)):(n(),d("div",A,u(l.title),1))]),_:1},8,["modelValue"])])]),e("div",E,[K,e("div",M,[o(s(_),{modelValue:s(t).infoblocks,"onUpdate:modelValue":a[3]||(a[3]=l=>s(t).infoblocks=l)},{item:i(({item:l})=>[e("span",Z,u(l.title),1)]),_:1},8,["modelValue"])])])])]),e("div",q,[G,e("div",null,[o(c,{for:"slug",value:"Адрес"}),o(f,{modelValue:s(t).slug,"onUpdate:modelValue":a[4]||(a[4]=l=>s(t).slug=l),class:"mt-1 block w-full"},null,8,["modelValue"]),o(m,{class:"mt-2",message:s(t).errors.slug},null,8,["message"])]),e("div",H,[o(U,{disabled:s(t).processing},{default:i(()=>[h("Сохранить")]),_:1},8,["disabled"])]),o(w,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:i(()=>[s(t).recentlySuccessful?(n(),d("div",I,"Сохранено")):$("",!0)]),_:1})])])],32)])]),_:1})],64))}};export{es as default};
